# تحديثات ضرورية على GitHub

هذا الملف يحتوي على التعديلات التي يجب إجراؤها على مستودع GitHub لضمان عمل التطبيق بشكل صحيح مع قاعدة البيانات الخارجية الجديدة.

## إعدادات متغيرات البيئة

عند نشر التطبيق على Vercel أو Netlify، تأكد من إضافة المتغيرات البيئية التالية في إعدادات النشر:

### متغيرات قاعدة البيانات
```
DATABASE_URL=postgresql://lol_owner:npg_OyecuENlS45j@ep-broad-voice-a5mbecch-pooler.us-east-2.aws.neon.tech/lol?sslmode=require
```

هذا سيضمن استخدام قاعدة البيانات PostgreSQL الخارجية من Neon بدلاً من SQLite المحلية.

### متغيرات أمان
```
SESSION_SECRET=اختر_مفتاح_سري_قوي_وعشوائي_هنا
```

## ملاحظات هامة حول قاعدة البيانات

1. **عند أول تشغيل للتطبيق على الخادم**:
   - سيقوم التطبيق تلقائيًا بإنشاء جداول قاعدة البيانات عند أول تشغيل
   - قد تحتاج لتشغيل سكربت `create_users.py` لإنشاء المستخدمين الافتراضيين (مشرف وطالب)
   - قد تحتاج لتشغيل سكربت `create_test.py` لإنشاء اختبار تجريبي

2. **إذا كان لديك بيانات موجودة**:
   - للانتقال من SQLite إلى PostgreSQL، ستحتاج لاستخراج البيانات من قاعدة البيانات القديمة واستيرادها إلى الجديدة
   - يمكنك استخدام أدوات مثل `pgloader` أو تصدير البيانات كملف SQL ثم استيرادها

## خطوات النشر على Vercel

1. قم بربط المستودع بحساب Vercel الخاص بك
2. عند إعداد المشروع، أضف متغير البيئة `DATABASE_URL` بالقيمة المذكورة أعلاه
3. اترك إعدادات البناء على القيم الافتراضية
4. انقر على "نشر"

## خطوات النشر على Netlify

1. قم بربط المستودع بحساب Netlify الخاص بك
2. في إعدادات البناء والنشر، أضف متغير البيئة `DATABASE_URL` بالقيمة المذكورة أعلاه
3. تأكد من وجود ملف `netlify.toml` و ملف `netlify/functions/api.js` في المستودع
4. انقر على "نشر" أو "Deploy site"

## ملاحظة عن أمان البيانات

- لا تقم بتضمين كلمات المرور ومفاتيح API مباشرة في التعليمات البرمجية
- استخدم دائمًا متغيرات البيئة للمعلومات الحساسة
- لاستخدام متغيرات البيئة المحلية أثناء التطوير، يمكنك إنشاء ملف `.env` (لا تقم برفعه إلى GitHub)